---
id: typescript-sdk
title: TypeScript SDK
pagination_label: TypeScript SDK
sidebar_label: TypeScript
sidebar_position: 4
sidebar_class_name: typescriptsdk
keywords: ['tsc', 'typescript', 'sdk']
description: Learn how to use the TypeScript SDK in this guide.
slug: /tools/sdk/typescript
tags: ['SDK']
---

## Overview

Learn how to use the TypeScript SDK in this guide. The TypeScript SDK has some pre-built code examples you can use to learn how to build tools that can interact with IdentityNow (IDN).

## Requirements

You need the following to use the TypeScript SDK:

- **Node**. To learn how to download it and set it up, go [here](https://nodejs.org/en/download).

- **TypeScript**. You can use `npm` to install TypeScript globally. This means that you can use the `tsc` command anywhere in your terminal. To do so, run this command:

```bash
npm install -g typescript
```

- Your tenant name in IDN. To learn how to find it, refer to [Getting Started](/idn/api/getting-started#find-your-tenant-name). The SDK will use this tenant name to connect to your IDN instance.

- A PAT with a client secret and ID. To learn how to create one in IDN, refer to [Personal Access Tokens](https://documentation.sailpoint.com/saas/help/common/api_keys.html#generating-a-personal-access-token). The SDK will use this PAT to authenticate with the SailPoint APIs.

## Setup

<details>
<summary>CLI Assisted <em>(Recommended)</em></summary>

The SailPoint CLI offers a few commands that will allow you to quickly get started with the Typescript SDK. To learn how to install and use the SailPoint CLI, refer to [SailPoint CLI](https://developer.sailpoint.com/idn/tools/cli#get-the-cli).

Once the CLI is installed and configured, run this command to create a new Typescript project with the Typescript SDK:

```bash
sail sdk init typescript typescript-example
```

Running the command creates the structure for your project:

```text
|-- typescript-example
|   |-- package.json
|   |-- src
|   |   |-- index.ts
|   |-- tsconfig.json
```

Navigate into your project folder and run this command to install the required dependencies:

```bash
npm install
```

The SDK is now installed. To learn how to configure the SDK, refer to the [Configure section](#configure).

</details>

<details>
<summary>Manual Installation</summary>

To begin your typescript project, you will need to create a directory for your project. Run this command to create your project directory:

```bash
mkdir typescript-example
```

Then run this command to change into your project directory:

```bash
cd typescript-example
```

To initialize your project directory and create the "package.json" file, run this command in your project directory. 

```bash
npm init
```

You will update this file with the dependencies necessary to use the SDK.

Create a source folder named "src". The SDK will include the "src/**/*" folder path when it compiles, so your SDK file must be there. Run this command to create the "src" folder:

```bash
mkdir src
```

Go to the `src` folder and create a file named "index.ts". You will need to compile the "index.ts" file to run the SDK. You can leave this "index.ts" file empty for now.

Go to the project directory and create a file named "tsconfig.json". This file will contain your compiler configuration. Copy this information into your "tsconfig.json" file:

```typescript
{
    "compilerOptions": {
      "target": "ES2020",                                  /* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */
      "module": "commonjs",                                /* Specify what module code is generated. */
      "moduleResolution": "node",                       /* Specify how TypeScript looks up a file from a given module specifier. */
      "esModuleInterop": true,                             /* Omit additional JavaScript to ease support for importing CommonJS modules. This enables 'allowSyntheticDefaultImports' for type compatibility. */
      "forceConsistentCasingInFileNames": true,            /* Ensure that casing is correct in imports. */
      "strict": true,                                      /* Enable all strict type-checking options. */
      "skipLibCheck": true,
      "outDir": "./build",
      "rootDir": "src",
      "sourceMap": true
    },
    "include": ["src/**/*"],
    "exclude": ["node_modules"]
  }
```

Run this command to add the SailPoint SDK to your project's dependencies:

```bash
npm install sailpoint-api-client
```

Or run this command to do the same:

```bash
yarn add sailpoint-api-client
```

The SDK is now installed. To learn how to configure the SDK, refer to the [Configure section](#configure).

</details>

## Configure

You must provide configuration to the SDK so that it can authenticate to your SailPoint tenant and make API calls. To do so, you can use a configuration file, "config.json", or environment variables.

### Configuration File

The SDK requires a configuration file to be named "config.json". Within the file, provide these key/value pairs: `ClientID`, `ClientSecret`, `BaseUrl`.

<details>
<summary>CLI Assisted <em>(Recommended)</em></summary>
The SailPoint CLI offers a command to generate the config.json file with your currently configured CLI credentials.

```bash
sail sdk init config
```

If you have multiple environments configured with the CLI, you can pass an additional parameter to state the environment you wish to create a "config.json" for. 

To pass an additional parameter that states the environment you want to configure, run this command: 

```bash
sail sdk init config --env devrel
```

#### Example "config.json"

```json
{
  "ClientID": "g0567b766b413b22c05c66e75d532f1b",
  "ClientSecret": "cabd0e950a7230b63c1ff45be33fb22065b382b6251a73c61177a8bb5482fcc7",
  "BaseUrl": "https://[tenant].api.identitynow.com"
}
```

</details>

<details>
<summary>Manual Configuration</summary>

Create a file named "config.json", and provide these key/value pairs: `ClientID`, `ClientSecret`, `BaseUrl`.

#### Example "config.json"

```json
{
  "ClientID": "g0567b766b413b22c05c66e75d532f1b",
  "ClientSecret": "cabd0e950a7230b63c1ff45be33fb22065b382b6251a73c61177a8bb5482fcc7",
  "BaseUrl": "https://[tenant].api.identitynow.com"
}
```

</details>

:::warning
Please ensure this file is ignored in your version control system (ex. .gitignore for git)
:::

### Environment variable configuration

You can also store your configuration in environment variables.

To get your environment variables to persist across terminal sessions, add these exports to your shell profile, something like `~/.bash_profile`.

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
<TabItem value="linux_mac" label="Linux/Mac" default>

```bash
export SAIL_BASE_URL=https://[tenant].api.identitynow.com
export SAIL_CLIENT_ID=[clientID]
export SAIL_CLIENT_SECRET=[clientSecret]
```

</TabItem>
<TabItem value="windows" label="Windows PowerShell">

```bash
$env:SAIL_BASE_URL=https://[tenant].api.identitynow.com
$env:SAIL_CLIENT_ID=[clientID]
$env:SAIL_CLIENT_SECRET=[clientSecret]
```

To get your environment variables to persist across PowerShell sessions, run these commands instead:

```powershell
[System.Environment]::SetEnvironmentVariable('SAIL_BASE_URL','https://[tenant].api.identitynow.com')
[System.Environment]::SetEnvironmentVariable('SAIL_CLIENT_ID','[clientID]')
[System.Environment]::SetEnvironmentVariable('SAIL_CLIENT_SECRET','[clientSecret]')
```

</TabItem>
</Tabs>

## Getting started with the Typescript SDK

Once your SDK is installed and configured, you can start accessing the SDK's different functionalities. This guide will walk through some examples of this functionality.

To make sure that your SDK is connecting to the APIs you need, you can specify the API within the curly brackets in `import {}` at the top of the "index.ts" file. In this example, you could add `Configuration` and `TransformsApi` to add the functionality to list transforms.

### List Transforms in your tenant

```typescript
import {Configuration, TransformsApi} from "sailpoint-api-client"

const getTransforms = async() => {
    // Initialize configuration, this requests a token using your configured credentials 
    // to be able to call out to APIs
    let apiConfig = new Configuration()

    // Initialize the TransformsApi, this creates an instance of the TransformsApi.
    // The configuration object is passed in so that the API can add your token to the request
    let api = new TransformsApi(apiConfig)

    // Call out to your tenant to get the list of transforms.
    let transforms = await api.listTransforms()
    console.log(transforms)
}

getTransforms()
```

To compile the file, first run the `tsc src/index.ts` command. This command creates a corresponding `index.js` file you can use to run the SDK. 

To run the SDK, run the `node src/index.js` command. This command sends the request and outputs a list of transforms stored in your tenant.

### Use query parameters to filter your tenant's transform list 

Using the same SDK function, you can list your transforms but limit the results to only what you want. This example wants a list of no more than 10 transforms that start with the name "Test":

Refer to [List Transforms](https://developer.sailpoint.com/idn/api/v3/list-transforms) for all its supported query parameters.

```typescript
import {Configuration, TransformsApi} from "sailpoint-api-client"

const getTransforms = async() => {
    let apiConfig = new Configuration()
    let api = new TransformsApi(apiConfig)
    let transforms = await api.listTransforms({limit: 10, filters: 'name sw "Test"'})
    console.log(transforms)
}

getTransforms()
```

To compile, run `tsc src/index.ts`. Then run `node src/index.js` to run the code.

### Paginate results

By default, your requests will return a maximum of 250 records. To return more, you must implement pagination. To learn more about pagination, refer to [Paginating Results](/idn/api/standard-collection-parameters/#paginating-results).

Pagination is implemented with the SDK in the following code block on line 7:

```typescript showLineNumbers
import {Configuration, AccountsApi, Paginator} from "sailpoint-api-client"

const getPaginatedAccounts = async () => {
    let apiConfig = new Configuration()
    let api = new AccountsApi(apiConfig)
    
    const val = await Paginator.paginate(api, api.listAccounts, {limit: 1000}, 250)

    console.log(val)
}

getPaginatedAccounts()
```

The function takes a few paramters: the first is the API instance that you wish to call, created on line 5. The next parameter is the function in which you want to invoke the pagination against. The earlier example wants to list accounts, so it calls `api.listAccounts`.

The `limit` specifies the total number of results you can return, 1000. The following unlabeled number, 250, refers to the `increment`, the number of records per page. For example, changing the `limit` to 50 and the following "250" to 5 would change the request to return a total of 50 records, 5 at a time. 

You can also provide an `offset` value to specify the record number to start the request on. For example, you can add `{offset: 11}` to start getting accounts from 11 instead of 0. 

To find out whether an endpoint supports pagination, refer to its documentation. Any API supporting pagination lists the optional query parameters detailed in [Paginating Results](/idn/api/standard-collection-parameters/#paginating-results).


### Search

To try using the IDN [search functionality](/idn/api/v3/search-post) along with pagination, copy this code into your "index.ts" file:

```typescript
const search = async () => {
    let apiConfig = new Configuration()
    let api = new SearchApi(apiConfig)
    let search: Search = {
        indices: [
            "identities"
        ],
        query: {
            query: "*"
        },
        sort: ["-name"]
	}
    const val = await Paginator.paginateSearchApi(api, search, 100, 1000)

    for (const result of val.data) {
        const castedResult: IdentityDocument = result
        console.log(castedResult.name)
    }
    
}
```
This example returns 1000 identities, 100 at a time, and sorts them in descending order by name. You can also change the search pagination by changing "100" and "1000", respectively. 

The two main ways you can manipulate this example are to change the `indices` or the `query`. For example, if you add `"access profiles"` to the indices, the SDK will search access profiles too. If you change the query to "a*", the search will return all records starting with the letter "a". 

You can also change the sorting logic in the brackets next to `sort`. 

### Retries

The SDK supports retry logic in the case of an unexpected error. You are able to configure the number of retries and the delay between retries. This logic is implemented in lines 7-12:

```typescript showLineNumbers
import {Configuration, axiosRetry, AccountsApi, Paginator} from "sailpoint-api-client"

const getPaginatedAccounts = async () => {

    
    let apiConfig = new Configuration()
    apiConfig.retriesConfig = {
        retries: 4,
        retryDelay: axiosRetry.exponentialDelay,
        onRetry(retryCount, error, requestConfig) {
            console.log(`retrying due to request error, try number ${retryCount}`)
        },
    }
    let api = new AccountsApi(apiConfig)
    
    const val = await Paginator.paginate(api, api.listAccounts, {limit: 100}, 10)

    console.log(val)

}

getPaginatedAccounts()
```

### Error Handling

The SDK uses the Axios library to handle HTTP requests.  Axios will throw an error for any response status that falls out of the range of 2xx.  A non-2xx response will immediately halt the program and produce a stack trace. Axios provides two methods for gracefully handling error responses from an API.

Using a `catch` function, you can intercept any non success response and take actions on the results, such as logging the message or performing additional actions before exiting the program.

```typescript showLineNumbers
// Catch any non 2xx response and log the error message and metadata
let transforms = await api.listTransforms().catch(function (error) {
    console.log(error.response.data);
    console.log(error.response.status);
    console.log(error.response.headers);
})
```

You can also define which HTTP status codes should throw an error for a given request using the `validateStatus` option.  This gives you an opportunity to recover from a bad request without exiting the program.

If you don't want the program to exit for 4xx response codes, you can use the following configuration.

```typescript showLineNumbers
// Resolve only if the status code is less than 500
let transforms = await api.listTransforms({filters: 'id eq'}, {validateStatus: function (status) { return status < 500 }})

if (transforms.status === 200) {
    console.log(transforms)
} else if (transforms.status === 400 ) {
    console.log("The filter is invalid.  Continuing execution.")
}
```

If you don't want the program to exit for any error response, you can use the following configuration.

```typescript
await api.listTransforms({}, {validateStatus: function (status) { return true }})
```

## Discuss

You can use this SDK to build new tools that extend your IDN platform and improve experiences across your organization. Use this guide to get started, and if you have questions, don't hesitate to reach out on the SailPoint Developer Community forum at https://developer.sailpoint.com/discuss! 