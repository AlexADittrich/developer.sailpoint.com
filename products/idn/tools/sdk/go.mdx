---
id: go-sdk
title: Go SDK
pagination_label: Go SDK
sidebar_label: Golang
sidebar_position: 2
sidebar_class_name: gosdk
keywords: ['go', 'golang', 'sdk']
description: Learn how to use the Golang SDK in this guide. 
slug: /tools/sdk/go
tags: ['SDK', 'Software Development Kit']
---

Read this guide to learn how to use the Go SDK. The Go SDK has some pre-built code examples you can use to learn how to build tools that can interact with IdentityNow.

## Requirements

You need the following to use the Go SDK:

- Golang version 1.18 or above. You can download it [here](https://go.dev/dl/). You can use `go version` to check your version. 

- Your tenant name in IdentityNow. To learn how to find it, refer to [Getting Started](/idn/api/getting-started#find-your-tenant-name). The SDK will use this tenant name to connect to your IdentityNow instance.

- A PAT with a client secret and ID. To learn how to create one in IDN, refer to [Personal Access Tokens](https://documentation.sailpoint.com/saas/help/common/api_keys.html#generating-a-personal-access-token). The SDK will use this PAT to authenticate with the SailPoint APIs.


## Setup

<details>
<summary>CLI Assisted <em>(Recommended)</em></summary>

The SailPoint CLI offers a few commands that will allow you to quickly get started with the Go SDK. To learn how to install and use the SailPoint CLI, refer to [SailPoint CLI](https://developer.sailpoint.com/idn/tools/cli#get-the-cli).

Once the CLI is installed and configured, run this command to create a new Go project with the Go SDK:

```bash
sail sdk init golang go-example
```

Running the command will create the structure for your project:

```text
|-- go-example
|   |-- go.mod
|   |-- go.sum
|   |-- sdk.go
```

Navigate into your project folder and run this command to install the required dependencies:

```bash
go mod tidy
```

The SDK is now installed. To learn how to configure the SDK, refer to the [Configure section](#configure).


</details>

<details>
<summary>Manual Installation</summary>

To begin your go project, you will need to create a directory for your project.

To create a project directory, run this command:

```bash
mkdir golang-example
```

Then run this command to change into your project directory:

```bash
cd golang-example
```

To initialize your project and create the `go.mod` file, run this command in your project directory: 

```go
go mod init github.com/github-repo-name/golang-example
```

You will edit this file to add the SailPoint SDK to your project.

To install the SailPoint SDK, run this command:

```go
go get github.com/sailpoint-oss/golang-sdk
```

The SDK is now installed. To learn how to configure the SDK, refer to the [Configure section](#configure).

</details>

## Configure

You must provide configuration to the SDK so that it can authenticate to your SailPoint tenant and make API calls. To do so, you can use a configuration file, "config.json", or environment variables.

### Configuration File

The SDK requires a configuration file to be named "config.json". Within the file, provide these key/value pairs: `ClientID`, `ClientSecret`, `BaseUrl`.

<details>
<summary>CLI Assisted <em>(Recommended)</em></summary>
The SailPoint CLI offers a command to generate the "config.json" file with your currently configured CLI credentials.

```bash
sail sdk init config
```

If you have multiple environments configured with the CLI, you can pass an additional parameter to state the environment you wish to create a "config.json" for. 

To pass an additional parameter that states the environment you want to configure, run this command: 

```bash
sail sdk init config --env devrel
```

#### Example "config.json"

```json
{
  "ClientID": "g0567b766b413b22c05c66e75d532f1b",
  "ClientSecret": "cabd0e950a7230b63c1ff45be33fb22065b382b6251a73c61177a8bb5482fcc7",
  "BaseUrl": "https://[tenant].api.identitynow.com"
}
```

</details>

<details>
<summary>Manual Configuration</summary>

Create a file named "config.json", and provide these key/value pairs: `ClientID`, `ClientSecret`, `BaseUrl`.

#### Example "config.json"

```json
{
  "ClientID": "g0567b766b413b22c05c66e75d532f1b",
  "ClientSecret": "cabd0e950a7230b63c1ff45be33fb22065b382b6251a73c61177a8bb5482fcc7",
  "BaseUrl": "https://[tenant].api.identitynow.com"
}
```

</details>

:::warning
Please ensure this file is ignored in your version control system (ex. .gitignore for git)
:::

### Environment variable configuration

You can also store your configuration in environment variables.

To get your environment variables to persist across terminal sessions, add these exports to your shell profile, something like `~/.bash_profile`.

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
<TabItem value="linux_mac" label="Linux/Mac" default>

```bash
export SAIL_BASE_URL=https://[tenant].api.identitynow.com
export SAIL_CLIENT_ID=[clientID]
export SAIL_CLIENT_SECRET=[clientSecret]
```

</TabItem>
<TabItem value="windows" label="Windows PowerShell">

```bash
$env:SAIL_BASE_URL=https://[tenant].api.identitynow.com
$env:SAIL_CLIENT_ID=[clientID]
$env:SAIL_CLIENT_SECRET=[clientSecret]
```

To get your environment variables to persist across PowerShell sessions, run these commands instead:

```powershell
[System.Environment]::SetEnvironmentVariable('SAIL_BASE_URL','https://[tenant].api.identitynow.com')
[System.Environment]::SetEnvironmentVariable('SAIL_CLIENT_ID','[clientID]')
[System.Environment]::SetEnvironmentVariable('SAIL_CLIENT_SECRET','[clientSecret]')
```

</TabItem>
</Tabs>

## Getting started with the Go SDK

Once your SDK is installed and configured, you can start accessing the SDK's different functionalities. This guide will walk through some examples of this functionality.

### List Transforms

Create a file in your project called `sdk.go` with the following content:

```go
package main

import (
	"context"
	"fmt"
	"os"

	sailpoint "github.com/sailpoint-oss/golang-sdk"
)

func main() {

	ctx := context.TODO()
	configuration := sailpoint.NewDefaultConfiguration()
	apiClient := sailpoint.NewAPIClient(configuration)

	resp, r, err := apiClient.V3.TransformsApi.ListTransforms(ctx).Execute()
	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `TransformsApi.ListTransforms``: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}
	fmt.Fprintf(os.Stdout, "All Transforms from `TransformsApi.ListTransforms`: %v\n", resp)

}
```

To run the code, run this command: 

```go
go run sdk.go
```

You can make changes to the API you are calling by changing this line:

```go
resp, r, err := apiClient.V3.TransformsApi.ListTransforms(ctx).Execute()
```

- To call a different version of the APIs, change `V3` to `Beta`, `V2`, or `CC`. 
- To call a different API collection, change `TransformsApi` to another collection, like `SourcesApi`, for example. 
- To call a different endpoint, change `ListTransforms` to another endpoint, like `GetTransform`, for example.

### Paginate Results

By default, your requests will return a maximum of 250 records. To return more, you must implement pagination. To learn more about pagination, refer to [Paginating Results](/idn/api/standard-collection-parameters/#paginating-results).

Pagination is implemented with the SDK in the following code block on line 18:

```go showLineNumbers
package main

import (
	"context"
	"fmt"
	"os"

	sailpoint "github.com/sailpoint-oss/golang-sdk"
	v3 "github.com/sailpoint-oss/golang-sdk/v3"
)

func main() {

	ctx := context.TODO()
	configuration := sailpoint.NewDefaultConfiguration()
	apiClient := sailpoint.NewAPIClient(configuration)

	resp, r, err := sailpoint.PaginateWithDefaults[v3.Account](apiClient.V3.AccountsApi.ListAccounts(ctx))
	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `PaginateWithDefaults[v3.Account]``: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}
	// response from `ListAccounts`: []Account
	fmt.Fprintf(os.Stdout, "First response from `PaginateWithDefaults[v3.Account]`: %v\n", resp[0].Name)
}
```

The `PaginateWithDefaults` function takes a return type, `v3.Account`, and the list method to invoke, in this case `ListAccounts` from the AccountsApi. By default, the `PaginateWithDefaults` method gets 10000 results at an increment of 250.

To change the limit and increment, you can use the available 'Paginate' function:

```go
package main

import (
	"context"
	"fmt"
	"os"

	sailpoint "github.com/sailpoint-oss/golang-sdk"
	v3 "github.com/sailpoint-oss/golang-sdk/v3"
)

func main() {

	ctx := context.TODO()
	configuration := sailpoint.NewDefaultConfiguration()
	apiClient := sailpoint.NewAPIClient(configuration)

	resp, r, err := sailpoint.Paginate[v3.Account](apiClient.V3.AccountsApi.ListAccounts(ctx), 0, 250, 150000)
	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `Paginate[v3.Account]``: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}
	// response from `ListAccounts`: []Account
	fmt.Fprintf(os.Stdout, "First response from `Paginate[v3.Account]`: %v\n", resp[0].Name)
}
```

You must provide the `Paginate` function with the following: the return type, `v3.Account`, the list endpoint, `ListAccounts`, the initial offset, `0`, the increment, `250`, and the limit, `150000`.

### Search

To try using the IDN [search functionality](/idn/api/v3/search-post) along with pagination, copy this code into your "sdk.go" file, following the main code:

```go
func getSearchResults(ctx context.Context, apiClient *sailpoint.APIClient) {
	search := v3.NewSearchWithDefaults()
	search.Indices = append(search.Indices, "identities")
	searchString := []byte(`
	{
	"indices": [
		"identities"
	],
	"query": {
		"query": "*"
	},
    "sort": [
        "-name"
    ]
	}
	  `)
	search.UnmarshalJSON(searchString)
	resp, r, err := sailpoint.PaginateSearchApi(ctx, apiClient, *search, 0, 10, 10000)
	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `PaginateSearchApi``: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}
	// response from `search`
	for i := 0; i < len(resp); i++ {
		fmt.Println(resp[i]["name"])
	}
}
```

To run the search, run this command: `go run sdk.go` This example lists all the identities it finds in your tenant.

There are two ways to configure the search: 
1. You can edit the `searchString` JSON:

```go showLineNumbers
	searchString := []byte(`
	{
	"indices": [
		"identities"
	],
	"query": {
		"query": "*"
	},
    "sort": [
        "-name"
    ]
	}
	  `)
```

In this example, changing the `"indices"` on line 3 from `"identities"` to `"access profiles"` makes the search return access profiles instead of identities. 

2. You can edit the string at the end of this `search.Indices` line to do the same thing as a shortcut: 

```go
search.Indices = append(search.Indices, "identities")
```

In this example, the `"identities"` string represents an unmarshalled JSON. Changing `append(search.Indices, "identities")` to `append(search.Indices, "access profiles")` does the same thing that editing the `searchString` JSON does.

### Paginate search results
The search example includes the syntax you can use to paginate search results. Edit this line to configure the search result pagination: 

```go
resp, r, err := sailpoint.PaginateSearchApi(ctx, apiClient, *search, 0, 10, 10000)
```

The first value refers to the `initialOffset`, the starting number for the results, the second refers to the `increment`, the number of records per page, and the third refers to the `limit`, the last record that can be returned. 

For example, changing the first number to `21`, the second to `20`, and the third to `40` would configure the search to return records 21 to 40 and then stop. 


### Retries

The SDK uses the [go-retryablehttp](https://github.com/hashicorp/go-retryablehttp) module to support retry logic. 

On line 17-18 of the following example, the SDK is set to retry if there is an unexpected error up to 10 times and wait 2 seconds between each retry:

```go showLineNumbers
package main

import (
	"context"
	"fmt"
	"os"

	sailpoint "github.com/sailpoint-oss/golang-sdk"
)

func main() {

	ctx := context.TODO()
	configuration := sailpoint.NewDefaultConfiguration()
	apiClient := sailpoint.NewAPIClient(configuration)

	configuration.HTTPClient.RetryMax = 10
    configuration.HTTPClient.RetryWaitMax = time.Second * 2

	resp, r, err := apiClient.V3.TransformsApi.ListTransforms(ctx).Filters("This is an incorrect string").Execute()
	if err != nil {
		fmt.Fprintf(os.Stderr, "Error when calling `TransformsApi.ListTransforms``: %v\n", err)
		fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	}
	// response from `ListAccounts`: []Account
	fmt.Fprintf(os.Stdout, "First response from `TransformsApi.ListTransforms`: %v\n", resp)

}
```

### Error Handling

The SDK returns the response object, request and error object for each method. The error object will be defined for any response status that falls out of the range of 2xx.

Using an if statement we can check if there are any errors with the request and take actions on the results, such as logging the message or performing additional actions before exiting the program.

```go
resp, r, err := apiClient.V3.TransformsApi.ListTransforms(ctx).Filters("This is an incorrect string").Execute()
if err != nil {
	fmt.Fprintf(os.Stderr, "Error when calling `TransformsApi.ListTransforms``: %v\n", err)
	fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
}
```

The program will continue running unless you specify to end it. Use `os.Exit(0)` within the error check to stop execution after an error is found.

```go
resp, r, err := apiClient.V3.TransformsApi.ListTransforms(ctx).Filters("This is an incorrect string").Execute()
if err != nil {
	fmt.Fprintf(os.Stderr, "Error when calling `TransformsApi.ListTransforms``: %v\n", err)
	fmt.Fprintf(os.Stderr, "Full HTTP response: %v\n", r)
	os.Exit(0)
}
```

## Discuss

You can use this SDK to build new tools that extend your IDN platform and improve experiences across your organization. Use this guide to get started, and if you have questions, don't hesitate to reach out on the SailPoint Developer Community forum at https://developer.sailpoint.com/discuss! 